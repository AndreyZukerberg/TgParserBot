# TgParserBot

Телеграм-бот, который отслеживает новый пост в ленте Habr и публикует его в канал с изображением (если оно есть).

## Возможности
- Проверяет ленту `https://habr.com/ru/feed/` и берёт самый свежий пост.
- Формирует сообщение с заголовком, описанием и ссылкой на статью.
- При наличии обложки скачивает изображение и отправляет его в канал вместе с текстом.
- Работает по команде **Старт** и повторяет проверку каждые 10 минут.

## Требования
- Python 3.8+
- Установленные зависимости (например, `requests`, `beautifulsoup4`, `lxml`, `pyTelegramBotAPI`, `python-dotenv`).

## Настройка
1. Создайте файл `.env` рядом с проектом и добавьте переменные окружения:
   ```env
   TELEGRAM_TOKEN=ваш_токен_бота
   CHANNEL_ID=идентификатор_канала
   ```
2. Убедитесь, что бот имеет права на публикацию в канале.

## Запуск
```bash
python " src/module/main.py"
```
После запуска напишите боту сообщение `Старт`.

## Структура проекта
- ` src/module/main.py` — точка входа, запуск бота и цикл polling.
- ` src/module/ParserHabr.py` — фасад для парсера и совместимый интерфейс.
- ` src/module/habr_client.py` — клиент для получения свежего поста из ленты.
- ` src/module/post_parser.py` — разбор поста и формирование сообщения.
- ` src/module/image_downloader.py` — скачивание изображения обложки.
- ` src/module/bot_handler.py` — обработчики команд и цикл проверки.

## Примечания
- Изображения временно сохраняются в папку `image` и удаляются после отправки.
- Интервал проверки можно изменить в `HabrBotHandler` через параметр `sleep_seconds`.